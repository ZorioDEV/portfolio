<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Portfolio | Gameplay Programmer</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Crimson+Pro:wght@300;400;500&family=Noto+Sans+JP:wght@300;400;500&display=swap" rel="stylesheet">
    <style>
        /* ===== RESET & BASE ===== */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            /* Ghibli-inspired color palette */
            --color-bg-dark: #0c151c;
            --color-bg-medium: #1a2938;
            --color-text-light: #f5f9ff;
            --color-text-muted: #b3c8db;
            --color-accent-teal: #3a8a9a;
            --color-accent-warm: #d87c5e;
            --color-accent-gold: #c9a65c;
            --color-overlay: rgba(12, 21, 28, 0.95);
            --color-border: rgba(179, 200, 219, 0.15);
            
            /* Animation timing */
            --transition-slow: 0.7s;
            --transition-medium: 0.4s;
            --transition-fast: 0.2s;
            
            /* Fonts */
            --font-primary: 'Noto Sans JP', sans-serif;
            --font-accent: 'Crimson Pro', serif;
        }

        html, body {
            height: 100%;
            font-family: var(--font-primary);
            background-color: var(--color-bg-dark);
            color: var(--color-text-light);
            font-weight: 300;
        }

        body {
            display: flex;
            flex-direction: column;
            position: relative;
        }

        /* ===== BACKGROUND IMAGES ===== */
        .background-container {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
        }

        .background-image {
            position: absolute;
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: opacity 1.5s ease;
            opacity: 0.85;
        }

        .bg-home { 
            background: radial-gradient(circle at 20% 50%, #1a2938 0%, #0c151c 70%);
        }

        .bg-projects { 
            background: radial-gradient(circle at 80% 50%, #1e3a4a 0%, #0c151c 70%);
        }

        .bg-about { 
            background: radial-gradient(circle at 50% 50%, #2a3d4c 0%, #0c151c 70%);
        }

        /* ===== PAGE TRANSITION ARROWS ===== */
        .page-nav-arrows {
            position: fixed;
            top: 50%;
            left: 0;
            right: 0;
            transform: translateY(-50%);
            display: flex;
            justify-content: space-between;
            padding: 0 20px;
            z-index: 50;
            pointer-events: none;
        }

        @media (max-width: 767px) {
            .page-nav-arrows {
                display: none;
            }
        }

        .page-arrow {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            background-color: var(--color-overlay);
            border: 1px solid var(--color-border);
            color: var(--color-text-muted);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            cursor: pointer;
            transition: all var(--transition-medium) ease;
            pointer-events: all;
            backdrop-filter: blur(5px);
            opacity: 0.8;
        }

        .page-arrow:hover {
            opacity: 1;
            color: var(--color-text-light);
            background-color: rgba(58, 138, 154, 0.2);
            border-color: var(--color-accent-teal);
            transform: scale(1.1);
        }

        .page-arrow.hidden {
            opacity: 0;
            pointer-events: none;
        }

        /* ===== LAYOUT CONTAINERS ===== */
        .page-container {
            display: none;
            width: 100%;
            height: 100%;
            position: absolute;
            top: 0;
            left: 0;
        }

        .page-container.active {
            display: block;
        }

        .main-content {
            height: 100%;
            width: 100%;
            overflow: hidden;
        }

        @media (max-width: 767px) {
            .main-content {
                overflow-y: auto;
                height: 100vh;
            }
        }

        /* ===== TOP NAVIGATION (Desktop & Mobile Bottom) ===== */
        .top-nav {
            display: none;
            justify-content: center;
            align-items: center;
            padding: 25px 40px;
            height: 100px;
            position: relative;
            z-index: 100;
        }

        @media (min-width: 768px) {
            .top-nav {
                display: flex;
            }
        }

        .nav-links {
            display: flex;
            gap: 60px;
        }

        .nav-link {
            color: var(--color-text-muted);
            text-decoration: none;
            font-family: var(--font-accent);
            font-size: 1.3rem;
            letter-spacing: 2px;
            transition: color var(--transition-medium) ease;
            position: relative;
            padding: 5px 0;
            font-weight: 300;
        }

        .nav-link:hover, .nav-link.active {
            color: var(--color-text-light);
        }

        .nav-link::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            width: 0;
            height: 1px;
            background-color: var(--color-accent-teal);
            transition: width var(--transition-medium) ease;
        }

        .nav-link.active::after {
            width: 100%;
        }

        /* ===== BOTTOM NAVIGATION (Mobile - Desktop Style) ===== */
        .mobile-bottom-nav {
            display: flex;
            justify-content: center;
            align-items: center;
            height: 80px;
            background-color: var(--color-overlay);
            backdrop-filter: blur(15px);
            position: fixed;
            bottom: 0;
            left: 0;
            width: 100%;
            z-index: 1000;
            border-top: 1px solid var(--color-border);
            padding: 0 20px;
        }

        @media (min-width: 768px) {
            .mobile-bottom-nav {
                display: none;
            }
        }

        .mobile-bottom-nav .nav-links {
            gap: 40px;
            width: 100%;
            justify-content: center;
        }

        .mobile-bottom-nav .nav-link {
            font-size: 1.1rem;
            letter-spacing: 1.5px;
        }

        /* ===== HOME PAGE ===== */
        .home-content {
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            height: 100%;
            text-align: center;
            padding: 30px 20px;
        }

        @media (max-width: 767px) {
            .home-content {
                padding: 40px 20px;
                min-height: calc(100vh - 80px);
            }
        }

        .home-title {
            font-family: var(--font-accent);
            font-size: 4.5rem;
            margin-bottom: 30px;
            font-weight: 300;
            letter-spacing: 4px;
            color: var(--color-text-light);
            line-height: 1.2;
        }

        @media (max-width: 767px) {
            .home-title {
                font-size: 3rem;
                margin-bottom: 25px;
                letter-spacing: 3px;
            }
        }

        @media (max-width: 480px) {
            .home-title {
                font-size: 2.5rem;
            }
        }

        .home-subtitle {
            font-size: 1.3rem;
            color: var(--color-text-muted);
            max-width: 650px;
            line-height: 1.6;
            margin-bottom: 40px;
        }

        @media (max-width: 767px) {
            .home-subtitle {
                font-size: 1.1rem;
                max-width: 90%;
                margin-bottom: 30px;
            }
        }

        .home-ghibli-text {
            font-family: var(--font-accent);
            font-size: 2rem;
            color: var(--color-accent-gold);
            letter-spacing: 3px;
            margin-top: 40px;
            font-weight: 300;
        }

        @media (max-width: 767px) {
            .home-ghibli-text {
                font-size: 1.5rem;
                margin-top: 30px;
            }
        }

        /* ===== PROJECTS PAGE - UPDATED FOR MOBILE VERTICAL ===== */
        .projects-carousel-container {
            position: relative;
            width: 100%;
            height: 100%;
            user-select: none;
        }

        @media (max-width: 767px) {
            .projects-carousel-container {
                overflow-y: auto;
                height: auto;
                min-height: calc(100vh - 80px);
            }
        }

        .projects-carousel {
            display: flex;
            height: 100%;
            position: relative;
            transition: transform 0.3s ease-out;
            will-change: transform;
            gap: 40px;
            padding: 0 40px;
            align-items: center;
        }

        @media (max-width: 767px) {
            .projects-carousel {
                flex-direction: column;
                gap: 30px;
                padding: 40px 20px;
                height: auto;
                transform: none !important;
            }
        }

        .project-thumbnail {
            flex: 0 0 auto;
            height: 100%;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            position: relative;
            cursor: pointer;
        }

        @media (max-width: 767px) {
            .project-thumbnail {
                height: auto;
                width: 100%;
                max-width: 400px;
                margin-bottom: 20px;
            }
        }

        .thumbnail-content {
            width: 360px;
            height: 480px;
            border-radius: 8px;
            overflow: hidden;
            position: relative;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.5);
            transition: all var(--transition-medium) ease;
        }

        @media (max-width: 767px) {
            .thumbnail-content {
                width: 100%;
                height: 350px;
            }
        }

        .project-thumbnail:hover .thumbnail-content {
            transform: scale(1.05);
            box-shadow: 0 25px 50px rgba(0, 0, 0, 0.7);
        }

        .thumbnail-image {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .thumbnail-overlay {
            position: absolute;
            bottom: 0;
            left: 0;
            width: 100%;
            padding: 30px 25px;
            background: linear-gradient(to top, rgba(12, 21, 28, 0.95), transparent);
            color: white;
            opacity: 1;
            transition: opacity var(--transition-medium) ease;
        }

        @media (max-width: 767px) {
            .thumbnail-overlay {
                padding: 20px;
            }
        }

        .thumbnail-title {
            font-family: var(--font-accent);
            font-size: 1.8rem;
            margin-bottom: 10px;
            font-weight: 300;
            letter-spacing: 1.5px;
        }

        @media (max-width: 767px) {
            .thumbnail-title {
                font-size: 1.6rem;
            }
        }

        .thumbnail-role {
            font-size: 1.1rem;
            color: var(--color-accent-teal);
            letter-spacing: 1px;
        }

        @media (max-width: 767px) {
            .thumbnail-role {
                font-size: 1rem;
            }
        }

        /* ===== PROJECT DETAIL OVERLAY ===== */
        .project-detail-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: var(--color-overlay);
            z-index: 2000;
            display: none;
            opacity: 0;
            transition: opacity var(--transition-slow) ease;
        }

        .project-detail-overlay.active {
            display: block;
            opacity: 1;
        }

        .project-detail-container {
            width: 100%;
            height: 100%;
            position: relative;
            overflow: hidden;
        }

        .project-detail-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 30px 50px;
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            z-index: 10;
            background-color: rgba(12, 21, 28, 0.9);
            backdrop-filter: blur(10px);
            border-bottom: 1px solid var(--color-border);
        }

        @media (max-width: 767px) {
            .project-detail-header {
                padding: 20px;
            }
        }

        .project-detail-title {
            font-family: var(--font-accent);
            font-size: 2.2rem;
            font-weight: 300;
            letter-spacing: 2px;
        }

        @media (max-width: 767px) {
            .project-detail-title {
                font-size: 1.5rem;
            }
        }

        .close-detail-btn {
            background: none;
            border: none;
            color: var(--color-text-light);
            font-size: 1.8rem;
            cursor: pointer;
            width: 50px;
            height: 50px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 50%;
            transition: all var(--transition-medium) ease;
        }

        .close-detail-btn:hover {
            background-color: rgba(255, 255, 255, 0.1);
            transform: rotate(90deg);
        }

        @media (max-width: 767px) {
            .close-detail-btn {
                width: 40px;
                height: 40px;
                font-size: 1.5rem;
            }
        }

        /* Project tabs system */
        .project-tabs-container {
            width: 100%;
            height: 100%;
            padding-top: 100px;
            display: flex;
            overflow: hidden;
        }

        @media (max-width: 767px) {
            .project-tabs-container {
                flex-direction: column;
                padding-top: 80px;
                overflow-y: auto;
            }
        }

        .project-tab-navigation {
            width: 160px;
            height: 100%;
            display: flex;
            flex-direction: column;
            padding: 50px 0;
            background-color: rgba(26, 41, 56, 0.8);
            border-right: 1px solid var(--color-border);
        }

        @media (max-width: 767px) {
            .project-tab-navigation {
                width: 100%;
                height: auto;
                flex-direction: row;
                padding: 15px 0;
                border-right: none;
                border-bottom: 1px solid var(--color-border);
            }
        }

        .project-tab-btn {
            background: none;
            border: none;
            color: var(--color-text-muted);
            padding: 30px 20px;
            font-size: 1.2rem;
            writing-mode: vertical-rl;
            text-orientation: mixed;
            transform: rotate(180deg);
            cursor: pointer;
            transition: all var(--transition-medium) ease;
            letter-spacing: 3px;
            font-family: var(--font-accent);
            position: relative;
            border-left: 4px solid transparent;
        }

        @media (max-width: 767px) {
            .project-tab-btn {
                writing-mode: horizontal-tb;
                transform: none;
                padding: 15px 10px;
                flex: 1;
                text-align: center;
                border-left: none;
                border-bottom: 4px solid transparent;
                font-size: 1rem;
            }
        }

        .project-tab-btn.active {
            color: var(--color-text-light);
            border-left-color: var(--color-accent-teal);
            background-color: rgba(58, 138, 154, 0.15);
        }

        @media (max-width: 767px) {
            .project-tab-btn.active {
                border-left: none;
                border-bottom-color: var(--color-accent-teal);
            }
        }

        .project-tab-content-wrapper {
            flex: 1;
            height: 100%;
            position: relative;
            overflow: hidden;
        }

        @media (max-width: 767px) {
            .project-tab-content-wrapper {
                height: auto;
                overflow-y: auto;
            }
        }

        .project-tab-content-container {
            display: flex;
            width: 300%;
            height: 100%;
            transition: transform var(--transition-slow) ease;
        }

        @media (max-width: 767px) {
            .project-tab-content-container {
                height: auto;
            }
        }

        .project-tab-content {
            width: 33.333%;
            height: 100%;
            padding: 50px;
            overflow-y: auto;
        }

        @media (max-width: 767px) {
            .project-tab-content {
                width: 100%;
                padding: 30px 20px;
                height: auto;
            }
        }

        /* Hide scrollbar for project tab content */
        .project-tab-content::-webkit-scrollbar {
            width: 0;
            background: transparent;
        }

        .overview-content {
            display: flex;
            flex-direction: column;
            gap: 50px;
        }

        @media (max-width: 767px) {
            .overview-content {
                gap: 30px;
            }
        }

        .overview-header {
            display: flex;
            flex-direction: column;
            gap: 20px;
        }

        .project-detail-name {
            font-family: var(--font-accent);
            font-size: 3rem;
            font-weight: 300;
            letter-spacing: 3px;
            margin-bottom: 10px;
            line-height: 1.2;
        }

        @media (max-width: 767px) {
            .project-detail-name {
                font-size: 2.2rem;
            }
        }

        .project-detail-date {
            color: var(--color-accent-teal);
            font-size: 1.3rem;
            letter-spacing: 1.5px;
        }

        @media (max-width: 767px) {
            .project-detail-date {
                font-size: 1.1rem;
            }
        }

        .overview-body {
            display: flex;
            flex-direction: column;
            gap: 50px;
        }

        @media (min-width: 768px) {
            .overview-body {
                flex-direction: row;
            }
        }

        @media (max-width: 767px) {
            .overview-body {
                gap: 30px;
            }
        }

        .overview-image {
            flex: 1;
            border-radius: 8px;
            overflow: hidden;
            min-height: 350px;
            background-color: var(--color-bg-medium);
            display: flex;
            align-items: center;
            justify-content: center;
            border: 1px solid var(--color-border);
        }

        @media (max-width: 767px) {
            .overview-image {
                min-height: 250px;
            }
        }

        .overview-image img, .tab-image img, .gif-container img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .overview-text {
            flex: 1;
            display: flex;
            flex-direction: column;
            gap: 30px;
        }

        .overview-description {
            line-height: 1.7;
            color: var(--color-text-muted);
            font-size: 1.2rem;
        }

        @media (max-width: 767px) {
            .overview-description {
                font-size: 1.05rem;
            }
        }

        .tech-stack {
            display: flex;
            flex-wrap: wrap;
            gap: 15px;
            margin-top: 20px;
        }

        .tech-tag {
            background-color: rgba(58, 138, 154, 0.2);
            color: var(--color-accent-teal);
            padding: 12px 24px;
            border-radius: 25px;
            font-size: 1rem;
            border: 1px solid rgba(58, 138, 154, 0.4);
        }

        @media (max-width: 767px) {
            .tech-tag {
                padding: 10px 20px;
                font-size: 0.9rem;
            }
        }

        .contribution-content, .extra-content {
            display: flex;
            flex-direction: column;
            gap: 50px;
        }

        @media (max-width: 767px) {
            .contribution-content, .extra-content {
                gap: 30px;
            }
        }

        .tab-image {
            width: 100%;
            border-radius: 8px;
            overflow: hidden;
            background-color: var(--color-bg-medium);
            min-height: 400px;
            display: flex;
            align-items: center;
            justify-content: center;
            border: 1px solid var(--color-border);
        }

        @media (max-width: 767px) {
            .tab-image {
                min-height: 300px;
            }
        }

        .tab-text {
            line-height: 1.7;
            color: var(--color-text-muted);
            font-size: 1.2rem;
        }

        @media (max-width: 767px) {
            .tab-text {
                font-size: 1.05rem;
            }
        }

        .tab-text h3 {
            font-family: var(--font-accent);
            font-size: 1.8rem;
            margin-bottom: 25px;
            font-weight: 300;
            letter-spacing: 1.5px;
            color: var(--color-text-light);
        }

        @media (max-width: 767px) {
            .tab-text h3 {
                font-size: 1.5rem;
                margin-bottom: 20px;
            }
        }

        .tab-text ul {
            margin: 25px 0 25px 30px;
            color: var(--color-text-muted);
            line-height: 1.7;
        }

        @media (max-width: 767px) {
            .tab-text ul {
                margin: 20px 0 20px 25px;
            }
        }

        .tab-text li {
            margin-bottom: 12px;
        }

        .gif-container {
            width: 100%;
            border-radius: 8px;
            overflow: hidden;
            background-color: var(--color-bg-medium);
            min-height: 350px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 40px;
            border: 1px solid var(--color-border);
        }

        @media (max-width: 767px) {
            .gif-container {
                min-height: 250px;
                margin-bottom: 30px;
            }
        }

        .gif-placeholder {
            color: var(--color-text-muted);
            text-align: center;
            padding: 60px;
            font-style: italic;
            font-size: 1.3rem;
        }

        @media (max-width: 767px) {
            .gif-placeholder {
                padding: 40px;
                font-size: 1.1rem;
            }
        }

        .gif-placeholder i {
            font-size: 4rem;
            margin-bottom: 25px;
            color: var(--color-accent-teal);
            opacity: 0.7;
        }

        @media (max-width: 767px) {
            .gif-placeholder i {
                font-size: 3rem;
                margin-bottom: 20px;
            }
        }

        /* ===== ABOUT PAGE - SCROLLABLE ON MOBILE ===== */
        .about-content {
            display: flex;
            flex-direction: column;
            height: 100%;
            padding: 100px 50px 40px;
            overflow: hidden;
            max-width: 1200px;
            margin: 0 auto;
        }

        @media (max-width: 767px) {
            .about-content {
                overflow-y: auto;
                padding: 40px 20px 100px;
                min-height: calc(100vh - 80px);
            }
        }

        .about-body {
            display: flex;
            flex-direction: column;
            height: 100%;
            overflow: hidden;
            gap: 40px;
        }

        @media (max-width: 767px) {
            .about-body {
                overflow: visible;
                height: auto;
                gap: 30px;
            }
        }

        /* Profile & Introduction Container */
        .profile-intro-container {
            display: flex;
            flex-direction: column;
            gap: 40px;
            flex-shrink: 0;
        }

        @media (min-width: 768px) {
            .profile-intro-container {
                flex-direction: row;
                gap: 60px;
            }
        }

        /* Profile Section - Left Side */
        .profile-section {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 25px;
            flex-shrink: 0;
        }

        @media (min-width: 768px) {
            .profile-section {
                width: 280px;
                align-items: flex-start;
            }
        }

        .profile-image-container {
            width: 220px;
            height: 220px;
            border-radius: 50%;
            overflow: hidden;
            border: 4px solid var(--color-accent-teal);
            box-shadow: 0 15px 40px rgba(0, 0, 0, 0.4);
            background-color: var(--color-bg-medium);
            display: flex;
            align-items: center;
            justify-content: center;
            flex-shrink: 0;
        }

        @media (max-width: 767px) {
            .profile-image-container {
                width: 180px;
                height: 180px;
            }
        }

        .profile-image {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .profile-image-placeholder {
            width: 100%;
            height: 100%;
            display: flex;
            align-items: center;
            justify-content: center;
            background: linear-gradient(135deg, var(--color-accent-teal), var(--color-accent-gold));
            color: white;
            font-size: 4rem;
        }

        @media (max-width: 767px) {
            .profile-image-placeholder {
                font-size: 3rem;
            }
        }

        .profile-text {
            text-align: center;
        }

        @media (min-width: 768px) {
            .profile-text {
                text-align: left;
            }
        }

        .profile-name {
            font-family: var(--font-accent);
            font-size: 2.2rem;
            font-weight: 300;
            letter-spacing: 2px;
            color: var(--color-text-light);
            margin-bottom: 10px;
        }

        @media (max-width: 767px) {
            .profile-name {
                font-size: 1.8rem;
            }
        }

        .profile-role {
            font-size: 1.3rem;
            color: var(--color-accent-teal);
            letter-spacing: 1.5px;
        }

        @media (max-width: 767px) {
            .profile-role {
                font-size: 1.1rem;
            }
        }

        /* Introduction Section - Right Side */
        .introduction-section {
            flex: 1;
            display: flex;
            flex-direction: column;
        }

        .introduction-section h3 {
            font-family: var(--font-accent);
            font-size: 1.8rem;
            margin-bottom: 25px;
            font-weight: 300;
            letter-spacing: 2px;
            color: var(--color-text-light);
        }

        @media (max-width: 767px) {
            .introduction-section h3 {
                font-size: 1.5rem;
                margin-bottom: 20px;
            }
        }

        .about-description {
            line-height: 1.7;
            color: var(--color-text-muted);
            font-size: 1.2rem;
            margin-bottom: 20px;
        }

        @media (max-width: 767px) {
            .about-description {
                font-size: 1.05rem;
                margin-bottom: 15px;
            }
        }

        /* Skills Section - Below Profile & Introduction */
        .skills-section {
            flex-shrink: 0;
            margin-top: 20px;
        }

        .skills-section h3 {
            font-family: var(--font-accent);
            font-size: 1.8rem;
            margin-bottom: 25px;
            font-weight: 300;
            letter-spacing: 2px;
            color: var(--color-text-light);
        }

        @media (max-width: 767px) {
            .skills-section h3 {
                font-size: 1.5rem;
                margin-bottom: 20px;
            }
        }

        .skills-list {
            display: flex;
            flex-wrap: wrap;
            gap: 15px;
            margin-bottom: 30px;
        }

        @media (max-width: 767px) {
            .skills-list {
                gap: 12px;
            }
        }

        .skill-item {
            background-color: rgba(58, 138, 154, 0.15);
            color: var(--color-text-light);
            padding: 12px 24px;
            border-radius: 25px;
            font-size: 1.1rem;
            border: 1px solid rgba(58, 138, 154, 0.4);
            flex-shrink: 0;
        }

        @media (max-width: 767px) {
            .skill-item {
                padding: 10px 20px;
                font-size: 0.95rem;
            }
        }

        /* Contact Section - Bottom */
        .contact-section {
            flex-shrink: 0;
            margin-top: 30px;
        }

        .contact-section h3 {
            font-family: var(--font-accent);
            font-size: 1.8rem;
            margin-bottom: 25px;
            font-weight: 300;
            letter-spacing: 2px;
            color: var(--color-text-light);
        }

        @media (max-width: 767px) {
            .contact-section h3 {
                font-size: 1.5rem;
                margin-bottom: 20px;
            }
        }

        .social-links {
            display: flex;
            flex-direction: column;
            gap: 20px;
        }

        @media (min-width: 768px) {
            .social-links {
                flex-direction: row;
                flex-wrap: wrap;
                gap: 25px;
            }
        }

        .social-link {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            gap: 12px;
            padding: 25px 20px;
            background-color: rgba(26, 41, 56, 0.6);
            border-radius: 10px;
            text-decoration: none;
            color: var(--color-text-light);
            transition: all var(--transition-medium) ease;
            border: 1px solid transparent;
            text-align: center;
            min-height: 120px;
        }

        @media (min-width: 768px) {
            .social-link {
                flex: 1;
                min-width: 160px;
            }
        }

        @media (max-width: 767px) {
            .social-link {
                padding: 20px 15px;
                min-height: 100px;
            }
        }

        .social-link:hover {
            background-color: rgba(58, 138, 154, 0.15);
            border-color: var(--color-accent-teal);
            transform: translateY(-5px);
        }

        .social-icon {
            font-size: 2.5rem;
            margin-bottom: 10px;
        }

        @media (max-width: 767px) {
            .social-icon {
                font-size: 2rem;
            }
        }

        .social-name {
            font-size: 1.2rem;
            font-weight: 400;
            font-family: var(--font-accent);
            letter-spacing: 1px;
        }

        @media (max-width: 767px) {
            .social-name {
                font-size: 1rem;
            }
        }

        /* ===== ANIMATION CLASSES ===== */
        .fade-in {
            animation: fadeIn var(--transition-slow) ease;
        }

        .slide-in-left {
            animation: slideInLeft var(--transition-slow) ease;
        }

        .slide-in-right {
            animation: slideInRight var(--transition-slow) ease;
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        @keyframes slideInLeft {
            from { transform: translateX(-100px); opacity: 0; }
            to { transform: translateX(0); opacity: 1; }
        }

        @keyframes slideInRight {
            from { transform: translateX(100px); opacity: 0; }
            to { transform: translateX(0); opacity: 1; }
        }

        @keyframes slidePageOutLeft {
            from { transform: translateX(0); opacity: 1; }
            to { transform: translateX(-100px); opacity: 0; }
        }

        @keyframes slidePageOutRight {
            from { transform: translateX(0); opacity: 1; }
            to { transform: translateX(100px); opacity: 0; }
        }

        @keyframes slidePageInLeft {
            from { transform: translateX(100px); opacity: 0; }
            to { transform: translateX(0); opacity: 1; }
        }

        @keyframes slidePageInRight {
            from { transform: translateX(-100px); opacity: 0; }
            to { transform: translateX(0); opacity: 1; }
        }

        .page-exit-left {
            animation: slidePageOutLeft var(--transition-medium) ease forwards;
        }

        .page-exit-right {
            animation: slidePageOutRight var(--transition-medium) ease forwards;
        }

        .page-enter-left {
            animation: slidePageInLeft var(--transition-medium) ease forwards;
        }

        .page-enter-right {
            animation: slidePageInRight var(--transition-medium) ease forwards;
        }
    </style>
</head>
<body>
    <!-- Background Images -->
    <div class="background-container">
        <div class="background-image bg-home active"></div>
        <div class="background-image bg-projects"></div>
        <div class="background-image bg-about"></div>
    </div>

    <!-- Page Navigation Arrows (Desktop only) -->
    <div class="page-nav-arrows">
        <button class="page-arrow prev-page" id="prev-page">
            <i class="fas fa-chevron-left"></i>
        </button>
        <button class="page-arrow next-page" id="next-page">
            <i class="fas fa-chevron-right"></i>
        </button>
    </div>

    <!-- Top Navigation (Desktop) -->
    <nav class="top-nav">
        <div class="nav-links">
            <a href="#" class="nav-link active" data-page="home">HOME</a>
            <a href="#" class="nav-link" data-page="projects">PROJECTS</a>
            <a href="#" class="nav-link" data-page="about">ABOUT</a>
        </div>
    </nav>

    <!-- Main Content Container -->
    <main class="main-content">
        <!-- Home Page -->
        <div class="page-container active" id="home-page">
            <div class="home-content">
                <h1 class="home-title">GAMEPLAY<br>PROGRAMMER</h1>
                <p class="home-subtitle">Creating immersive interactive experiences through elegant code and thoughtful design. Inspired by Studio Ghibli's dedication to craftsmanship and emotional storytelling.</p>
                <div class="home-ghibli-text">STUDIO PORTFOLIO</div>
            </div>
        </div>

        <!-- Projects Page -->
        <div class="page-container" id="projects-page">
            <div class="projects-carousel-container">
                <div class="projects-carousel">
                    <!-- Project thumbnails will be inserted here by JavaScript -->
                </div>
            </div>
        </div>

        <!-- About Page -->
        <div class="page-container" id="about-page">
            <div class="about-content">
                <div class="about-body">
                    <!-- Profile Image & Introduction Container -->
                    <div class="profile-intro-container">
                        <!-- Profile Image - Left Side -->
                        <div class="profile-section">
                            <div class="profile-image-container">
                                <!-- Replace with actual image -->
                                <div class="profile-image-placeholder">
                                    <i class="fas fa-user"></i>
                                </div>
                                <!-- Uncomment and add your image path -->
                                <!-- <img src="path/to/your/profile.jpg" alt="Profile Image" class="profile-image"> -->
                            </div>
                            <div class="profile-text">
                                <div class="profile-name">ALEX CHEN</div>
                                <div class="profile-role">Gameplay Programmer</div>
                            </div>
                        </div>

                        <!-- Introduction Section - Right Side -->
                        <div class="introduction-section">
                            <h3>INTRODUCTION</h3>
                            <p class="about-description">
                                I'm a gameplay programmer focused on crafting responsive, engaging mechanics that create memorable player experiences. 
                                My work combines technical precision with creative problem-solving, drawing inspiration from Studio Ghibli's attention 
                                to detail and emotional depth in storytelling.
                            </p>
                            
                            <p class="about-description">
                                With a strong foundation in C++ and C#, I specialize in implementing core gameplay systems, AI behaviors, 
                                physics interactions, and optimization techniques. I believe that great gameplay emerges from systems that 
                                are both technically robust and creatively expressive.
                            </p>
                        </div>
                    </div>

                    <!-- Skills Section - Below Profile & Introduction -->
                    <div class="skills-section">
                        <h3>TECHNICAL SKILLS</h3>
                        <div class="skills-list">
                            <span class="skill-item">C++</span>
                            <span class="skill-item">C#</span>
                            <span class="skill-item">Unity</span>
                            <span class="skill-item">Unreal Engine</span>
                            <span class="skill-item">Gameplay Programming</span>
                            <span class="skill-item">AI Systems</span>
                            <span class="skill-item">Physics Programming</span>
                            <span class="skill-item">Multiplayer Networking</span>
                            <span class="skill-item">Performance Optimization</span>
                            <span class="skill-item">Tools Development</span>
                            <span class="skill-item">Shader Programming</span>
                            <span class="skill-item">Animation Systems</span>
                        </div>
                    </div>

                    <!-- Contact Section - Bottom -->
                    <div class="contact-section">
                        <h3>CONTACT</h3>
                        <div class="social-links">
                            <a href="#" class="social-link" target="_blank">
                                <div class="social-icon">
                                    <i class="fab fa-linkedin"></i>
                                </div>
                                <div class="social-name">LinkedIn</div>
                            </a>
                            
                            <a href="#" class="social-link" target="_blank">
                                <div class="social-icon">
                                    <i class="fab fa-github"></i>
                                </div>
                                <div class="social-name">GitHub</div>
                            </a>
                            
                            <a href="#" class="social-link" target="_blank">
                                <div class="social-icon">
                                    <i class="fas fa-envelope"></i>
                                </div>
                                <div class="social-name">Email</div>
                            </a>
                            
                            <a href="#" class="social-link" target="_blank">
                                <div class="social-icon">
                                    <i class="fas fa-file-pdf"></i>
                                </div>
                                <div class="social-name">Resume</div>
                            </a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <!-- Project Detail Overlay -->
    <div class="project-detail-overlay">
        <div class="project-detail-container">
            <div class="project-detail-header">
                <!-- Project name and date will be inserted here by JavaScript -->
                <h3 class="project-detail-title">PROJECT NAME - DATE</h3>
                <button class="close-detail-btn">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            
            <!-- Original working tab system -->
            <div class="project-tabs-container">
                <div class="project-tab-navigation">
                    <button class="project-tab-btn active" data-tab="0">OVERVIEW</button>
                    <button class="project-tab-btn" data-tab="1">CONTRIBUTION</button>
                    <button class="project-tab-btn" data-tab="2">EXTRA</button>
                </div>
                
                <div class="project-tab-content-wrapper">
                    <div class="project-tab-content-container" id="tab-content-container">
                        <!-- Overview Tab -->
                        <div class="project-tab-content" id="overview-tab">
                            <div class="overview-content">
                                <div class="overview-header">
                                    <h2 class="project-detail-name">PROJECT NAME</h2>
                                    <div class="project-detail-date">DEVELOPMENT DATE</div>
                                </div>
                                
                                <div class="overview-body">
                                    <div class="overview-image">
                                        <div class="gif-placeholder">
                                            <i class="fas fa-play-circle"></i>
                                            <div>Gameplay GIF will appear here</div>
                                        </div>
                                    </div>
                                    
                                    <div class="overview-text">
                                        <p class="overview-description">
                                            This is where the project overview will go. Describe the game, its core mechanics, 
                                            and the main challenges. Focus on what makes this project unique and what you learned 
                                            from developing it.
                                        </p>
                                        
                                        <div>
                                            <h3>TECH STACK</h3>
                                            <div class="tech-stack">
                                                <span class="tech-tag">Unity</span>
                                                <span class="tech-tag">C#</span>
                                                <span class="tech-tag">Shader Graph</span>
                                                <span class="tech-tag">AI Pathfinding</span>
                                                <span class="tech-tag">Physics System</span>
                                            </div>
                                        </div>
                                        
                                        <p class="overview-description">
                                            This section is ideal for explaining the technical architecture, design patterns used, 
                                            and how different systems interact within the game.
                                        </p>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Contribution Tab -->
                        <div class="project-tab-content" id="contribution-tab">
                            <div class="contribution-content">
                                <div class="tab-image">
                                    <div class="gif-placeholder">
                                        <i class="fas fa-code"></i>
                                        <div>Mechanism GIF/Image will appear here</div>
                                    </div>
                                </div>
                                
                                <div class="tab-text">
                                    <h3>MY CONTRIBUTIONS</h3>
                                    <p>
                                        Here you can detail your specific contributions to the project. For a gameplay programmer, 
                                        this might include:
                                    </p>
                                    <ul>
                                        <li>Implemented character movement and combat systems</li>
                                        <li>Developed AI behavior trees for enemy NPCs</li>
                                        <li>Created interactive environmental systems</li>
                                        <li>Optimized physics calculations for better performance</li>
                                        <li>Designed and implemented game state management</li>
                                    </ul>
                                    <p>
                                        Include technical details about the implementation, challenges faced, and how you solved them.
                                        This section is crucial for recruiters to understand your technical abilities.
                                    </p>
                                </div>
                                
                                <div class="gif-container">
                                    <div class="gif-placeholder">
                                        <i class="fas fa-cogs"></i>
                                        <div>Technical implementation GIF will appear here</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Extra Tab -->
                        <div class="project-tab-content" id="extra-tab">
                            <div class="extra-content">
                                <div class="tab-image">
                                    <div class="gif-placeholder">
                                        <i class="fas fa-star"></i>
                                        <div>Additional visual/technical showcase</div>
                                    </div>
                                </div>
                                
                                <div class="tab-text">
                                    <h3>ADDITIONAL DETAILS</h3>
                                    <p>
                                        Use this section to showcase anything extra that doesn't fit in the other tabs. This could include:
                                    </p>
                                    <ul>
                                        <li>Code snippets demonstrating clean architecture</li>
                                        <li>Performance optimization techniques used</li>
                                        <li>Lessons learned during development</li>
                                        <li>Future improvements planned</li>
                                        <li>Team collaboration process</li>
                                    </ul>
                                    <p>
                                        This is your chance to show depth of understanding and reflection on the project. 
                                        Recruiters appreciate seeing that you can analyze your own work critically.
                                    </p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Mobile Bottom Navigation (Desktop style at bottom) -->
    <nav class="mobile-bottom-nav">
        <div class="nav-links">
            <a href="#" class="nav-link active" data-page="home">HOME</a>
            <a href="#" class="nav-link" data-page="projects">PROJECTS</a>
            <a href="#" class="nav-link" data-page="about">ABOUT</a>
        </div>
    </nav>

    <script>
        // Project Data
        const projects = [
            {
                id: 1,
                name: "Whispering Woods",
                role: "Gameplay Programmer",
                description: "A fantasy adventure game with dynamic AI ecosystems and physics-based interaction systems. Players explore a living forest where every creature has unique behaviors that respond to environmental changes and player actions.",
                date: "Spring 2023",
                tech: ["Unity", "C#", "AI Behavior Trees", "Physics System", "Shader Graph", "Animation Rigging"],
                contribution: "Implemented the core AI ecosystem where creatures interact with each other and the environment. Developed the physics-based interaction system for puzzles and combat. Created custom tools for designers to tweak creature behaviors in real-time.",
                extra: "Optimized AI calculations to maintain 60 FPS with 50+ active NPCs. Implemented a dynamic LOD system that reduced CPU usage by 40%. Created visual debugging tools that helped the design team iterate 3x faster."
            },
            {
                id: 2,
                name: "Nebula Drifter",
                role: "Systems Programmer",
                description: "A space exploration roguelike with procedural generation and modular ship customization. Features dynamically generated star systems, evolving alien civilizations, and deep ship upgrade systems.",
                date: "Winter 2022",
                tech: ["Unreal Engine", "C++", "Procedural Generation", "UI Systems", "Save/Load", "Networking"],
                contribution: "Built the procedural star system generator and ship module system. Implemented the save/load architecture for persistent progression across playthroughs. Created the real-time multiplayer networking layer for cooperative play.",
                extra: "Developed a custom node-based tool for designers to create ship modules without coding. Optimized memory usage for generated content, reducing load times by 60%. Implemented predictive networking to reduce perceived latency by 80%."
            },
            {
                id: 3,
                name: "Chrono Clash",
                role: "Gameplay & AI Programmer",
                description: "A time-manipulation combat game where players rewind and fast-forward actions in tactical battles. Features a unique timeline-based combat system where positioning and timing create complex strategic possibilities.",
                date: "Fall 2022",
                tech: ["Unity", "C#", "Time Manipulation", "Combat System", "Network Code", "Shader Programming"],
                contribution: "Created the time rewind/fast-forward system and sync logic for multiplayer. Designed the combo-based combat mechanics with branching skill trees. Implemented the visual effects system for time manipulation abilities.",
                extra: "Implemented a replay system that records and plays back matches with full rewind capability. Created visual debugging tools for time states that helped identify synchronization issues. Developed a custom shader system for temporal distortion effects."
            }
        ];

        // DOM Elements
        const pageContainers = document.querySelectorAll('.page-container');
        const navLinks = document.querySelectorAll('.nav-link');
        const backgroundImages = document.querySelectorAll('.background-image');
        const projectsCarousel = document.querySelector('.projects-carousel');
        const prevPageBtn = document.getElementById('prev-page');
        const nextPageBtn = document.getElementById('next-page');
        const projectDetailOverlay = document.querySelector('.project-detail-overlay');
        const closeDetailBtn = document.querySelector('.close-detail-btn');
        const projectTabBtns = document.querySelectorAll('.project-tab-btn');
        const tabContentContainer = document.getElementById('tab-content-container');
        
        // Current state
        const pages = ['home', 'projects', 'about'];
        let currentPageIndex = 0;
        let currentProjectIndex = 0;
        let currentTabIndex = 0;
        let isDragging = false;
        let startPosX = 0;
        let currentTranslate = 0;
        let prevTranslate = 0;
        let animationID = null;
        let velocity = 0;
        let lastPosX = 0;
        let lastTime = 0;
        let isClick = true;
        let dragStartX = 0;
        let dragStartY = 0;
        let thumbnailWidth = 360;
        let gap = 40;

        // Check if mobile
        function isMobile() {
            return window.innerWidth <= 767;
        }

        // Calculate thumbnail width and gap based on screen size
        function calculateDimensions() {
            if (isMobile()) {
                // For mobile vertical layout, we don't need these calculations
                return;
            }
            
            const thumbnail = document.querySelector('.thumbnail-content');
            const carousel = document.querySelector('.projects-carousel');
            
            if (thumbnail) {
                thumbnailWidth = thumbnail.offsetWidth;
            }
            
            if (carousel) {
                const carouselStyle = getComputedStyle(carousel);
                gap = parseFloat(carouselStyle.gap) || 40;
            }
        }

        // Initialize the projects carousel - SIMPLIFIED VERSION
        function initProjectsCarousel() {
            projectsCarousel.innerHTML = '';
            
            // For mobile: create vertical stack
            if (isMobile()) {
                projects.forEach((project, index) => {
                    const thumbnail = document.createElement('div');
                    thumbnail.className = 'project-thumbnail';
                    thumbnail.dataset.index = index;
                    thumbnail.dataset.projectIndex = index;
                    
                    // Create a placeholder image with Ghibli-inspired colors
                    const colorIndex = index % 3;
                    const colors = ['#3a8a9a', '#d87c5e', '#c9a65c'];
                    const color = colors[colorIndex];
                    
                    thumbnail.innerHTML = `
                        <div class="thumbnail-content">
                            <div class="thumbnail-image" style="background: linear-gradient(45deg, ${color}30, ${color}10); display: flex; align-items: center; justify-content: center;">
                                <i class="fas fa-gamepad" style="font-size: 5rem; color: ${color}; opacity: 0.5;"></i>
                            </div>
                            <div class="thumbnail-overlay">
                                <div class="thumbnail-title">${project.name}</div>
                                <div class="thumbnail-role">${project.role}</div>
                            </div>
                        </div>
                    `;
                    
                    // Add click event listener
                    thumbnail.addEventListener('click', () => {
                        openProjectDetail(index);
                    });
                    
                    projectsCarousel.appendChild(thumbnail);
                });
                return;
            }
            
            // For desktop: create horizontal carousel
            calculateDimensions();
            
            // Create enough slides for smooth infinite scrolling
            const copies = 5; // Number of times to repeat projects
            const totalSlides = projects.length * copies;
            
            for (let i = 0; i < totalSlides; i++) {
                let projectIndex = i % projects.length;
                
                const project = projects[projectIndex];
                const thumbnail = document.createElement('div');
                thumbnail.className = 'project-thumbnail';
                thumbnail.dataset.index = i;
                thumbnail.dataset.projectIndex = projectIndex;
                
                // Create a placeholder image with Ghibli-inspired colors
                const colorIndex = projectIndex % 3;
                const colors = ['#3a8a9a', '#d87c5e', '#c9a65c'];
                const color = colors[colorIndex];
                
                thumbnail.innerHTML = `
                    <div class="thumbnail-content">
                        <div class="thumbnail-image" style="background: linear-gradient(45deg, ${color}30, ${color}10); display: flex; align-items: center; justify-content: center;">
                            <i class="fas fa-gamepad" style="font-size: 5rem; color: ${color}; opacity: 0.5;"></i>
                        </div>
                        <div class="thumbnail-overlay">
                            <div class="thumbnail-title">${project.name}</div>
                            <div class="thumbnail-role">${project.role}</div>
                        </div>
                    </div>
                `;
                
                // Add event listeners for desktop
                thumbnail.addEventListener('mousedown', startDrag);
                thumbnail.addEventListener('touchstart', startDragTouch, { passive: false });
                
                projectsCarousel.appendChild(thumbnail);
            }
            
            // Start in the middle of the carousel for infinite scrolling
            const middleIndex = Math.floor(totalSlides / 2);
            const slideWidth = thumbnailWidth + gap;
            currentTranslate = -middleIndex * slideWidth;
            prevTranslate = currentTranslate;
            projectsCarousel.style.transform = `translateX(${currentTranslate}px)`;
        }

        // Update project detail content
        function updateProjectDetailContent(projectIndex) {
            const project = projects[projectIndex];
            
            // Update project header
            document.querySelector('.project-detail-title').textContent = `${project.name} - ${project.date}`;
            document.querySelector('.project-detail-name').textContent = project.name;
            document.querySelector('.project-detail-date').textContent = project.date;
            
            // Update overview tab
            const overviewDesc = document.querySelector('.overview-description');
            if (overviewDesc) overviewDesc.textContent = project.description;
            
            const techStack = document.querySelector('.tech-stack');
            if (techStack) {
                techStack.innerHTML = '';
                project.tech.forEach(tech => {
                    const tag = document.createElement('span');
                    tag.className = 'tech-tag';
                    tag.textContent = tech;
                    techStack.appendChild(tag);
                });
            }
            
            // Update contribution tab
            const contributionText = document.querySelector('#contribution-tab .tab-text p');
            if (contributionText) {
                contributionText.innerHTML = `In <strong>${project.name}</strong>, ${project.contribution}`;
            }
            
            // Update extra tab
            const extraText = document.querySelector('#extra-tab .tab-text p');
            if (extraText) {
                extraText.innerHTML = `Additional details for <strong>${project.name}</strong>: ${project.extra}`;
            }
        }

        // Navigate to a specific page with animation
        function navigateToPage(page, direction = 'right') {
            const targetPageIndex = pages.indexOf(page);
            
            if (pages[currentPageIndex] === page) return;
            
            const exitClass = direction === 'right' ? 'page-exit-right' : 'page-exit-left';
            const enterClass = direction === 'right' ? 'page-enter-left' : 'page-enter-right';
            
            const currentPage = document.getElementById(`${pages[currentPageIndex]}-page`);
            currentPage.classList.add(exitClass);
            
            setTimeout(() => {
                pageContainers.forEach(container => {
                    container.classList.remove('active', 'page-exit-left', 'page-exit-right', 'page-enter-left', 'page-enter-right');
                });
                
                const targetPage = document.getElementById(`${page}-page`);
                targetPage.classList.add('active', enterClass);
                
                currentPageIndex = targetPageIndex;
                
                navLinks.forEach(link => {
                    if (link.dataset.page === page) {
                        link.classList.add('active');
                    } else {
                        link.classList.remove('active');
                    }
                });
                
                backgroundImages.forEach(bg => {
                    bg.classList.remove('active');
                });
                document.querySelector(`.bg-${page}`).classList.add('active');
                
                updatePageArrows();
                
                if (page === 'projects') {
                    initProjectsCarousel();
                }
            }, 400);
        }

        // Update page navigation arrows visibility
        function updatePageArrows() {
            if (isMobile()) {
                prevPageBtn.classList.add('hidden');
                nextPageBtn.classList.add('hidden');
                return;
            }
            
            if (currentPageIndex === 0) {
                prevPageBtn.classList.add('hidden');
            } else {
                prevPageBtn.classList.remove('hidden');
            }
            
            if (currentPageIndex === pages.length - 1) {
                nextPageBtn.classList.add('hidden');
            } else {
                nextPageBtn.classList.remove('hidden');
            }
        }

        // Open project detail overlay
        function openProjectDetail(projectIndex) {
            currentProjectIndex = projectIndex;
            updateProjectDetailContent(projectIndex);
            projectDetailOverlay.classList.add('active');
            
            // Reset to first tab (Overview)
            switchTabSection(0);
        }

        // Close project detail overlay
        function closeProjectDetail() {
            projectDetailOverlay.classList.remove('active');
        }

        // Switch between the 3 tab sections (Overview, Contribution, Extra)
        function switchTabSection(sectionIndex) {
            currentTabIndex = sectionIndex;
            
            // Update active tab button
            projectTabBtns.forEach(btn => {
                btn.classList.remove('active');
                const tabIndex = parseInt(btn.dataset.tab);
                if (tabIndex === sectionIndex) {
                    btn.classList.add('active');
                }
            });
            
            // Slide content container
            tabContentContainer.style.transform = `translateX(-${sectionIndex * 33.333}%)`;
        }

        // Drag functionality - DESKTOP ONLY
        function startDrag(e) {
            if (isMobile()) return;
            
            e.preventDefault();
            isDragging = true;
            isClick = true;
            const clientX = e.type.includes('mouse') ? e.clientX : e.touches[0].clientX;
            const clientY = e.type.includes('mouse') ? e.clientY : e.touches[0].clientY;
            startPosX = clientX;
            dragStartX = clientX;
            dragStartY = clientY;
            lastPosX = clientX;
            lastTime = Date.now();
            velocity = 0;
            
            // Remove transition for instant feedback
            projectsCarousel.style.transition = 'none';
            
            // Add event listeners
            if (e.type.includes('mouse')) {
                document.addEventListener('mousemove', drag);
                document.addEventListener('mouseup', endDrag);
            } else {
                document.addEventListener('touchmove', dragTouch, { passive: false });
                document.addEventListener('touchend', endDragTouch);
            }
            
            // Start animation loop
            animationID = requestAnimationFrame(animation);
        }

        function startDragTouch(e) {
            if (isMobile()) return;
            startDrag(e.touches[0]);
        }

        function drag(e) {
            if (!isDragging || isMobile()) return;
            const currentTime = Date.now();
            const currentPosition = e.clientX;
            
            // Calculate movement
            const diff = currentPosition - startPosX;
            currentTranslate = prevTranslate + diff;
            
            // Calculate velocity for momentum
            const timeDiff = currentTime - lastTime;
            if (timeDiff > 0) {
                const moveDiff = currentPosition - lastPosX;
                velocity = moveDiff / timeDiff;
                lastPosX = currentPosition;
                lastTime = currentTime;
            }
            
            // If moved significantly, it's not a click
            if (Math.abs(currentPosition - dragStartX) > 5) {
                isClick = false;
            }
        }

        function dragTouch(e) {
            if (!isDragging || isMobile()) return;
            drag(e.touches[0]);
        }

        function endDrag() {
            if (!isDragging || isMobile()) return;
            
            isDragging = false;
            cancelAnimationFrame(animationID);
            
            // Remove event listeners
            document.removeEventListener('mousemove', drag);
            document.removeEventListener('mouseup', endDrag);
            
            // Apply momentum
            const momentum = velocity * 20;
            const finalTranslate = currentTranslate + momentum;
            
            // Add smooth transition back
            projectsCarousel.style.transition = 'transform 0.3s ease-out';
            
            // Calculate slide width
            const slideWidth = thumbnailWidth + gap;
            
            // Snap to nearest slide
            const nearestSlide = Math.round(-finalTranslate / slideWidth);
            currentTranslate = -nearestSlide * slideWidth;
            prevTranslate = currentTranslate;
            projectsCarousel.style.transform = `translateX(${currentTranslate}px)`;
            
            // Check for infinite loop - if we're near the edges, jump to the middle
            const totalSlides = projects.length * 5; // We have 5 copies
            const middleIndex = Math.floor(totalSlides / 2);
            
            // If we're more than 2 slides away from the middle in either direction, jump
            if (nearestSlide < middleIndex - 2 || nearestSlide > middleIndex + 2) {
                // Jump after transition completes
                setTimeout(() => {
                    projectsCarousel.style.transition = 'none';
                    const jumpIndex = middleIndex + (nearestSlide % projects.length);
                    currentTranslate = -jumpIndex * slideWidth;
                    prevTranslate = currentTranslate;
                    projectsCarousel.style.transform = `translateX(${currentTranslate}px)`;
                }, 300);
            }
            
            // Reset click detection after a delay
            setTimeout(() => {
                isClick = true;
            }, 100);
        }

        function endDragTouch() {
            if (isMobile()) return;
            endDrag();
            document.removeEventListener('touchmove', dragTouch);
            document.removeEventListener('touchend', endDragTouch);
        }

        function animation() {
            if (isDragging && !isMobile()) {
                projectsCarousel.style.transform = `translateX(${currentTranslate}px)`;
                requestAnimationFrame(animation);
            }
        }

        // Event Listeners
        navLinks.forEach(link => {
            link.addEventListener('click', (e) => {
                e.preventDefault();
                const targetPage = link.dataset.page;
                const targetIndex = pages.indexOf(targetPage);
                const direction = targetIndex > currentPageIndex ? 'right' : 'left';
                navigateToPage(targetPage, direction);
            });
        });

        // Page navigation arrows (desktop only)
        if (prevPageBtn && nextPageBtn) {
            prevPageBtn.addEventListener('click', () => {
                if (currentPageIndex > 0) {
                    navigateToPage(pages[currentPageIndex - 1], 'left');
                }
            });

            nextPageBtn.addEventListener('click', () => {
                if (currentPageIndex < pages.length - 1) {
                    navigateToPage(pages[currentPageIndex + 1], 'right');
                }
            });
        }

        closeDetailBtn.addEventListener('click', closeProjectDetail);

        // Project tab navigation
        projectTabBtns.forEach(btn => {
            btn.addEventListener('click', () => {
                const tabIndex = parseInt(btn.dataset.tab);
                switchTabSection(tabIndex);
            });
        });

        // Keyboard navigation
        document.addEventListener('keydown', (e) => {
            if (projectDetailOverlay.classList.contains('active')) {
                if (e.key === 'Escape') {
                    closeProjectDetail();
                } else if (e.key === 'ArrowLeft' && currentTabIndex > 0) {
                    switchTabSection(currentTabIndex - 1);
                } else if (e.key === 'ArrowRight' && currentTabIndex < 2) {
                    switchTabSection(currentTabIndex + 1);
                }
            }
        });

        // Recalculate dimensions on window resize
        window.addEventListener('resize', () => {
            if (currentPageIndex === 1 && !isMobile()) { // If on projects page and desktop
                calculateDimensions();
                // Re-center carousel
                const slideWidth = thumbnailWidth + gap;
                const totalSlides = projects.length * 5;
                const middleIndex = Math.floor(totalSlides / 2);
                currentTranslate = -middleIndex * slideWidth;
                prevTranslate = currentTranslate;
                projectsCarousel.style.transition = 'none';
                projectsCarousel.style.transform = `translateX(${currentTranslate}px)`;
            }
            
            // Re-initialize carousel when switching between mobile and desktop
            if (currentPageIndex === 1) {
                initProjectsCarousel();
            }
            
            updatePageArrows();
        });

        // Initialize
        initProjectsCarousel();
        updatePageArrows();
        
        console.log("Portfolio updated with all requested changes!");
        console.log("1. Increased scale on all pages (larger fonts, less blank space)");
        console.log("2. Mobile: Scrollable pages, vertical carousel, desktop-style bottom nav");
        console.log("3. Desktop: Horizontal carousel with drag, top nav, side arrows");
    </script>
</body>
</html>